(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2404890c"],{"0cd5":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.info?n("div",{staticClass:"maxBox1"},[n("body",t._l(this.info,(function(e,i){return n("div",{key:i,staticClass:"itemBox"},[n("div",{staticClass:"imgBox",on:{click:function(n){return t.imgClick(e.vid)}}},[n("img",{attrs:{src:e.cover||e.coverUrl,alt:"404"}}),n("span",{staticClass:"playTime"},[n("i",{staticClass:"el-icon-video-camera"}),t._v(" "+t._s(e.playTime>1e4?(e.playTime/1e4).toFixed(0)+"万":e.playTime||e.playCount>1e4?(e.playCount/1e4).toFixed(0)+"万":e.playCount))])]),n("div",{staticClass:"conBox"},[n("div",{staticClass:"tit nowp"},[n("span",{staticClass:"musicName"},[t._v("歌曲")]),t._v(t._s(e.title||e.name)+" ")]),n("div",{staticClass:"timeBox"},[t._v(" "+t._s(t._f("showTime")(e.durationms||e.duration))+" ")]),e.creator?n("div",{staticClass:"zuo nowp"},t._l(e.creator,(function(i,a){return n("span",{key:"x"+a},[n("span",[t._v(t._s(a===e.creator.length-1?i.userName:i.userName+"/"))])])})),0):t._e(),e.artists?n("div",{staticClass:"zuo nowp"},t._l(e.artists,(function(i,a){return n("span",{key:"x"+a},[n("span",[t._v(t._s(a===e.artists.length-1?i.name:i.name+"/"))])])})),0):t._e()])])})),0)]):t._e()},a=[],o=n("25b1"),s={data:function(){return{}},props:{info:{type:Array}},components:{},created:function(){},methods:{imgClick:function(t){this.$router.push("videoing"+t),this.$router.go(0),console.log(t)}},filters:{showTime:function(t){return Object(o["d"])(t)}}},r=s,c=(n("a339"),n("2877")),u=Object(c["a"])(r,i,a,!1,null,"0f942b5b",null);e["a"]=u.exports},"159b":function(t,e,n){var i=n("da84"),a=n("fdbc"),o=n("17c2"),s=n("9112");for(var r in a){var c=i[r],u=c&&c.prototype;if(u&&u.forEach!==o)try{s(u,"forEach",o)}catch(l){u.forEach=o}}},"17c2":function(t,e,n){"use strict";var i=n("b727").forEach,a=n("a640"),o=n("ae40"),s=a("forEach"),r=o("forEach");t.exports=s&&r?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"1c9c":function(t,e,n){"use strict";n.r(e);var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.id?n("div",[n("body",[n("div",{staticClass:"leftBox"},[n("div",{staticClass:"titleBox"},[n("a",{staticStyle:{color:"#000"},attrs:{href:"#"}},[n("i",{staticClass:"el-icon-arrow-left",staticStyle:{color:"#000"},on:{click:t.backPage}})]),t._v(" "+t._s(t.videoInfo.title)+" ")]),n("div",{staticClass:"videoBox"},[t.videoUrl?n("video",{attrs:{autoplay:"",controls:"",loop:"",width:"100%",height:"100%"}},[n("source",{attrs:{src:t.videoUrl,type:"video/mp4"}}),n("source",{attrs:{src:t.videoUrl,type:"video/ogg"}}),t._v(" Your browser does not support the video tag. ")]):t._e()]),n("div",{staticClass:"BtnBox"},[n("el-button",{attrs:{size:"mini",icon:"el-icon-thumb"}},[t._v("赞("+t._s(t.videoInfo.praisedCount)+")")]),n("el-button",{attrs:{size:"mini",icon:"el-icon-star-off"}},[t._v("收藏("+t._s(t.videoInfo.commentCount)+")")]),n("el-button",{attrs:{size:"mini",icon:"el-icon-share"}},[t._v("分享("+t._s(t.videoInfo.shareCount)+")")]),n("el-button",{attrs:{size:"mini",icon:"el-icon-download"}},[t._v("下载MV")])],1),this.videoComments?n("Comment",{attrs:{info:this.videoComments,id:this.videoInfo.vid,type:5}}):t._e(),n("Fenye",{attrs:{pageSize:t.pageSize,total:t.total},on:{pageChange:t.pageChange}})],1),n("div",{staticClass:"rightBox"},[n("VideoTitlt",{attrs:{title:"视频介绍"}}),n("div",{staticClass:"jieBox"},[n("div",{staticClass:"timeBox"},[t._v(" 发布时间:"+t._s(t._f("showDate")(t.videoInfo.publishTime))),n("span",{staticStyle:{"margin-left":"10px"}},[t._v("播放次数:"+t._s(t.videoInfo.playTime>1e4?(t.videoInfo.playTime/1e4).toFixed(0)+"万":t.videoInfo.playTime))])]),n("div",{staticClass:"jieShao"},[t._v("简介:"+t._s(t.videoInfo.description||"null"))]),t.videoInfo.creator?n("div",{staticClass:"jieShao"},[t._v(" 作者:"+t._s(t.videoInfo.creator.nickname||null)+" ")]):t._e(),n("div",{staticClass:"biaoQian"},[t._v("标签:"+t._s(t.bqString))])]),n("VideoTitlt",{attrs:{title:"相关推荐"}}),n("Recommend",{attrs:{info:t.recList}}),n("div",{staticClass:"xgBox"})],1)])]):t._e()},o=[],s=(n("99af"),n("a15b"),n("d81d"),n("b0c0"),n("ade3")),r=n("2909"),c=(n("96cf"),n("1da1")),u=n("5530"),l=n("2f62"),d=n("36ca"),f=n("b3e1"),v=n("8af1"),p=n("0cd5"),m=n("25b1"),h=(i={data:function(){return{videoInfo:{},videoUrl:"",videoComments:[],id:"",total:0,offset:0,pageSize:30,bqList:[],bqString:"",videoTuijian:[],recList:[]}},components:{VideoTitlt:f["a"],Comment:v["a"],Fenye:d["a"],Recommend:p["a"]},computed:Object(u["a"])({},Object(l["b"])(["getVideoInfo"])),created:function(){this.id=this.$route.params.id,this.getVideo(this.id),this.getVideoUrl(this.id),this.getVideoComment(this.id),this.getVideoTuijian(this.id)},mounted:function(){},destroyed:function(){},methods:{getVideo:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http.get("video/detail",{params:{id:t}});case 2:i=n.sent,e.videoInfo=i.data.data,console.log(e.videoInfo),e.videoInfo.videoGroup.map((function(t){e.bqList.push(t.name)})),e.bqString=e.bqList.join("/");case 7:case"end":return n.stop()}}),n)})))()},getVideoUrl:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.videoUrl="",n.next=3,e.$http.get("/video/url",{params:{id:t}});case 3:i=n.sent,e.videoUrl=i.data.urls[0].url,console.log(e.videoUrl);case 6:case"end":return n.stop()}}),n)})))()},getVideoComment:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.videoComments="",n.next=3,e.$http.get("/comment/video",{params:{id:t,limit:e.pageSize,offset:e.offset}});case 3:i=n.sent,e.total=i.data.total,e.offset>0?e.videoComments=i.data.comments:e.videoComments=[].concat(Object(r["a"])(i.data.hotComments),Object(r["a"])(i.data.comments)),console.log(i.data);case 7:case"end":return n.stop()}}),n)})))()},getVideoTuijian:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.videoTuijian=[],n.next=3,e.$http.get("/related/allvideo",{params:{id:t}});case 3:i=n.sent,console.log(i.data),e.recList=i.data.data;case 6:case"end":return n.stop()}}),n)})))()},pageChange:function(t){this.offset=(t-1)*this.pageSize,console.log(this.offset),this.getVideoComment(this.id)},backPage:function(){this.$router.go(-1)}},watch:{$route:function(){},getVideoInfo:function(t){console.log("hehe"),console.log(t)}}},Object(s["a"])(i,"computed",{biaoqian:function(){var t=this;this.videoInfo.videoGroup.map((function(e){t.bqList.push(e.name)})),this.bqList.join("/")}}),Object(s["a"])(i,"filters",{showDate:function(t){var e=new Date(t);return Object(m["a"])(e,"yyyy-MM-dd")}}),i),g=h,b=(n("ae5c"),n("2877")),_=Object(b["a"])(g,a,o,!1,null,"39f70868",null);e["default"]=_.exports},"36ca":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fenye"},[n("div",{staticClass:"block"},[n("el-pagination",{attrs:{layout:"prev, pager, next,total",total:t.total,"page-size":t.pageSize},on:{"current-change":t.pageChange}})],1)])},a=[],o={data:function(){return{}},props:["total","pageSize"],components:{},created:function(){},methods:{pageChange:function(t){this.$emit("pageChange",t)}}},s=o,r=(n("ea25"),n("2877")),c=Object(r["a"])(s,i,a,!1,null,"459985ba",null);e["a"]=c.exports},4160:function(t,e,n){"use strict";var i=n("23e7"),a=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"4de4":function(t,e,n){"use strict";var i=n("23e7"),a=n("b727").filter,o=n("1dde"),s=n("ae40"),r=o("filter"),c=s("filter");i({target:"Array",proto:!0,forced:!r||!c},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},5109:function(t,e,n){},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");var i=n("ade3");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},6634:function(t,e,n){},"76d6":function(t,e,n){"use strict";var i=n("c9ad"),a=n.n(i);a.a},"8af1":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.info?n("div",[t._m(0),n("div",{staticClass:"inputCon"},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"140","show-word-limit":"",clearable:"",size:"small ",resize:"none"},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}}),n("div",{staticClass:"sendBtn"},[n("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.send()}}},[t._v("发送 "),n("i",{staticClass:"el-icon-edit"})])],1)],1),n("div",{staticClass:"comTitle"},[t._v("精彩评论")]),n("div",{staticClass:"commentBox"},t._l(t.info,(function(e,i){return n("div",{key:i,staticClass:"comItem"},[n("div",{staticClass:"picBox"},[n("img",{attrs:{src:e.user.avatarUrl,alt:""}})]),n("div",{staticClass:"con_Box"},[n("div",{staticClass:"nameBox"},[n("span",[t._v(t._s(e.user.nickname))]),t._v(":"+t._s(e.content)+" ")]),n("div",{staticClass:"timeBox"},[t._v(t._s(t._f("showData")(e.time)))]),n("div",{staticClass:"sanL"},[n("span",{staticClass:"cur"},[n("i",{staticClass:"el-icon-thumb",staticStyle:{color:"#ccc"}},[t._v("("+t._s(e.likedCount)+")")])]),t._v(" | "),n("span",{staticClass:"cur"},[t._v("分享")]),t._v(" | "),n("span",{staticClass:"cur"},[t._v("回复")])])])])})),0)]):t._e()},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"commentTitle"},[n("h2",[t._v("听友评论")])])}],o=(n("96cf"),n("1da1")),s=n("25b1"),r={data:function(){return{inputText:""}},props:["info","id","type","pageSize","total"],components:{},created:function(){},methods:{send:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/comment",{id:t.id,type:t.type,content:t.inputText,t:1});case 2:n=e.sent,(n.data.code=200)&&(t.$message.success("发送成功！"),setTimeout((function(){t.$router.go(0)}),500)),console.log(n);case 5:case"end":return e.stop()}}),e)})))()},pageChange:function(t){this.$emit("pageChange",t)}},filters:{showData:function(t){var e=new Date(t);return Object(s["a"])(e,"yyyy-MM-dd")}}},c=r,u=(n("76d6"),n("2877")),l=Object(u["a"])(c,i,a,!1,null,"573f4400",null);e["a"]=l.exports},a15b:function(t,e,n){"use strict";var i=n("23e7"),a=n("44ad"),o=n("fc6a"),s=n("a640"),r=[].join,c=a!=Object,u=s("join",",");i({target:"Array",proto:!0,forced:c||!u},{join:function(t){return r.call(o(this),void 0===t?",":t)}})},a339:function(t,e,n){"use strict";var i=n("af82"),a=n.n(i);a.a},a640:function(t,e,n){"use strict";var i=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},ae5c:function(t,e,n){"use strict";var i=n("df45"),a=n.n(i);a.a},af82:function(t,e,n){},b3e1:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[t._v(t._s(t.title))])])},a=[],o={data:function(){return{}},props:{title:{type:String}},components:{},created:function(){},methods:{}},s=o,r=(n("defe"),n("2877")),c=Object(r["a"])(s,i,a,!1,null,"42c4ef34",null);e["a"]=c.exports},b64b:function(t,e,n){var i=n("23e7"),a=n("7b0b"),o=n("df75"),s=n("d039"),r=s((function(){o(1)}));i({target:"Object",stat:!0,forced:r},{keys:function(t){return o(a(t))}})},c9ad:function(t,e,n){},d81d:function(t,e,n){"use strict";var i=n("23e7"),a=n("b727").map,o=n("1dde"),s=n("ae40"),r=o("map"),c=s("map");i({target:"Array",proto:!0,forced:!r||!c},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(t,e,n){var i=n("23e7"),a=n("83ab"),o=n("56ef"),s=n("fc6a"),r=n("06cf"),c=n("8418");i({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,n,i=s(t),a=r.f,u=o(i),l={},d=0;while(u.length>d)n=a(i,e=u[d++]),void 0!==n&&c(l,e,n);return l}})},defe:function(t,e,n){"use strict";var i=n("6634"),a=n.n(i);a.a},df45:function(t,e,n){},e439:function(t,e,n){var i=n("23e7"),a=n("d039"),o=n("fc6a"),s=n("06cf").f,r=n("83ab"),c=a((function(){s(1)})),u=!r||c;i({target:"Object",stat:!0,forced:u,sham:!r},{getOwnPropertyDescriptor:function(t,e){return s(o(t),e)}})},ea25:function(t,e,n){"use strict";var i=n("5109"),a=n.n(i);a.a}}]);
//# sourceMappingURL=chunk-2404890c.010380e1.js.map