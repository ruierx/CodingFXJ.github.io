{
    "version": "https://jsonfeed.org/version/1",
    "title": "CodingFXJ'Blog • All posts by \"this指向\" tag",
    "description": "",
    "home_page_url": "https://CodingFXJ.github.io",
    "items": [
        {
            "id": "https://codingfxj.github.io/2021/07/04/JS%E4%B8%AD%E7%9A%84this%E6%8C%87%E5%90%91/",
            "url": "https://codingfxj.github.io/2021/07/04/JS%E4%B8%AD%E7%9A%84this%E6%8C%87%E5%90%91/",
            "title": "JS中的this指向",
            "date_published": "2021-07-04T00:19:22.000Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h3 id=\"函数内this指向\"><a href=\"#函数内this指向\" class=\"headerlink\" title=\"函数内this指向\"></a>函数内this指向</h3><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>调用方式</th>\n<th>this指向</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>普通函数调用</td>\n<td>window</td>\n</tr>\n<tr>\n<td>构造函数调用</td>\n<td>实例对象</td>\n</tr>\n<tr>\n<td>对象方法调用</td>\n<td>该方法所属的实例对象</td>\n</tr>\n<tr>\n<td>事件绑定方法</td>\n<td>绑定事件对象</td>\n</tr>\n<tr>\n<td>定时器函数</td>\n<td>window</td>\n</tr>\n<tr>\n<td>立即执行函数</td>\n<td>window</td>\n</tr>\n<tr>\n<td>箭头函数</td>\n<td>函数定义位置的上下文this</td>\n</tr>\n<tr>\n<td>严格模式下全局作用域中函数中的 this</td>\n<td>undefined</td>\n</tr>\n</tbody>\n</table>\n</div>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//箭头函数this</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> age = <span class=\"number\">100</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">age</span>: <span class=\"number\">20</span>,</span><br><span class=\"line\">    <span class=\"attr\">say</span>: <span class=\"function\">()=&gt;</span>&#123; <span class=\"comment\">//对象不产生作用域</span></span><br><span class=\"line\">       <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.age) <span class=\"comment\">//100</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"改变this指向\"><a href=\"#改变this指向\" class=\"headerlink\" title=\"改变this指向\"></a>改变this指向</h3><p>常用的 三种方法：bind()、call()、apply() </p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>传参形式</th>\n<th>参数和返回值</th>\n<th>执行时机</th>\n<th>使用场景</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>fun.call(thisArg, arg1, arg2, …)</td>\n<td>函数的返回值，即是调用函数</td>\n<td>立即执行</td>\n<td>通常用于继承</td>\n</tr>\n<tr>\n<td>fun.apply(thisArg, [argsArray])</td>\n<td>必须是数组，函数的返回值</td>\n<td>立即执行</td>\n<td>数组处理</td>\n</tr>\n<tr>\n<td>fun.bind(thisArg, arg1, arg2, …)</td>\n<td>返回指定this和参数的新函数</td>\n<td>不会立即执行函数</td>\n<td>改变定时器内部的this指向</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h3 id=\"this常见问题\"><a href=\"#this常见问题\" class=\"headerlink\" title=\"this常见问题\"></a>this常见问题</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//方法2.let vm = new Vue(&#123;</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> Vue(&#123;</span><br><span class=\"line\">    <span class=\"attr\">el</span>:<span class=\"string\">&#x27;app&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">data</span>:&#123;</span><br><span class=\"line\">        <span class=\"attr\">list</span>:[]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    methods&#123;</span><br><span class=\"line\">\t\t<span class=\"function\"><span class=\"title\">getData</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">//方法1.var self = this</span></span><br><span class=\"line\">    axios(&#123;</span><br><span class=\"line\">\t<span class=\"comment\">//...\t</span></span><br><span class=\"line\">    <span class=\"comment\">//方法3.&#125;).then(res =&gt;&#123;</span></span><br><span class=\"line\">    &#125;).then(funcion(res))&#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> result = res.data</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(res.meta.status == <span class=\"number\">200</span>)&#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.list = result;</span><br><span class=\"line\">            <span class=\"comment\">//this的指向问题，此处没有获取到list</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "JS",
                "this指向"
            ]
        }
    ]
}